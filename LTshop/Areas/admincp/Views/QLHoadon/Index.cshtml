
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/admincp/Views/Shared/_LayoutAdministracao.cshtml";
}

<div ng-app="myapp">
    <h2>Quản lý Hóa đơn</h2>

    <div ng-controller="HoadonCtrl">
        <button class="btn btn-primary fa fa-plus" data-toggle="modal" data-target="#exampleModal">Create new</button>
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Hóa đơn</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <form novalidate name="frmHoadon" id="frmHoadon" class="form-horizontal row-border">
                        <div class="modal-body">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="input17"> Mã HĐ</label>
                                    <div class="col-md-7"> <input type="text" id="idmahdb" class="form-control" name="namemahdb" ng-model="mahdb" /> </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="input17"> Tên KH</label>
                                    <div class="col-md-7"> <input type="text" id="idtenkh" class="form-control" name="nametenkh" ng-model="tenkh" /> </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="input17"> Địa chỉ</label>
                                    <div class="col-md-7"> <input type="text" id="iddiachi" class="form-control" name="namediachi" ng-model="diachi" /> </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="input17"> SĐT</label>
                                    <div class="col-md-7"> <input type="text" id="idsdt" class="form-control" name="namesdt" ng-model="sdt" /> </div>
                                </div><div class="form-group">
                                    <label class="col-md-4 control-label" for="input17"> Tổng tiền</label>
                                    <div class="col-md-7"> <input type="text" id="idtongtien" class="form-control" name="nametongtien" ng-model="tongtien" /> </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="input17"> Ghi chú</label>
                                    <div class="col-md-7"> <textarea  id="idghichu" class="form-control" name="nameghichu" rows="3" cols="30" ng-model="ghichu" ></textarea> </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="input17"> Created_at</label>
                                    <div class="col-md-7"> <input type="date" id="idcreated_at" class="form-control" name="namecreated_at" ng-model="created_at" /> </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-4"> </div>
                                    <div class="col-md-7">
                                        <span id="save" class="btn btn-success margin-right-btn" ng-click="SaveUpdate()">
                                            <i class="icon-save"></i> {{btnText}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">

                        </div>
                    </form>
                </div>
            </div>
        </div>



        <table class="table table-bordered  table-striped">
            <thead class="grid-top-panel">
                <tr>
                    <th>Mã HĐ</th>
                    <th>Tên KH</th>
                    <th>Địa chỉ</th>
                    <th>SDT</th>
                    <th>Tổng tiền</th>
                    <th>Ghi chú</th>

                    <th>Created_at</th>
                    

                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="dataModel in hoadonbans">
                    @*<td style="display:none">{{dataModel.makh}}</td>*@
                    <td>{{dataModel.mahdb}}</td>
                    <td> {{dataModel.tenkh}}</td>
                  
                    <td> {{dataModel.diachi}}</td>
                    <td> {{dataModel.sdt}}</td>
                    <td> {{dataModel.tongtien | currency:"":0}}</td>
                    <td> {{dataModel.ghichu}}</td>
                    <td>{{dateObj(dataModel.created_at)| date: 'dd/MM/yyyy'}}</td>
                 
                    <td style="text-align:right; color:white">
                        <span>
                            <span id="save" class="btn btn-primary margin-right-btn" ng-click="GetHoadonByID(dataModel)" data-toggle="modal" data-target="#exampleModal">

                                Edit
                            </span>
                        </span>
                    </td>
                    <td style="text-align:right; color:white">
                        <span>
                            <span id="save" class="btn btn-danger margin-right-btn" ng-click="DeleteHoadon(dataModel)">
                                Delete
                            </span>
                        </span>
                    </td>
                </tr>
            </tbody>
            <tfoot></tfoot>
        </table>
    </div>






</div>



@section PageInlineScripts
{
    <script src="~/Scripts/angular.min.js"></script>
    <script src="~/Areas/admincp/assets/angular/Modules/app.js"></script>
    <script src="~/Areas/admincp/assets/angular/Controllers/QLHoadonCtrl.js"></script>
    <script src="~/Areas/admincp/assets/angular/Services/CrudService.js"></script>
}
